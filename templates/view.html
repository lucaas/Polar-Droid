{% extends 'base.html' %}

{% block content %}
<div class="photo">
<img width="640px" height="640px" alt="{{ photo.title }}" src="{{ photo.url }}" />
<h2>{{ photo.title|upper }}</h2>
<h4>By: <a href="/profile/{{ photo.user.id }}/">{{ photo.user.username }}</a></h4>
{% if not edit %}
	<a class="edit_button" href="/edit/{{ photo.id }}/">edit</a>
{% endif %}
</div>
{% if edit %}
	<ul class="filters">
	<li><a href="/revert/{{ photo.id }}/">Original</a></li>
	<li><a href="/filter/{{ photo.id }}/lomo/">Metallic Lomo</a></li>
	<li><a href="/filter/{{ photo.id }}/agfa/">Pink Seventies</a></li>
	<li><a href="/filter/{{ photo.id }}/army/">Orange Army</a></li>
	<li><a href="/filter/{{ photo.id }}/cyan_glow/">Dreamy Cyan</a></li>
	<li><a href="/filter/{{ photo.id }}/oldie/">Oldie</a></li>
	<li><a href="/filter/{{ photo.id }}/bw/">Black &amp; White</a></li>
	<li><a href="/filter/{{ photo.id }}/bw2/">Gray, dark and dull</a></li>
	</ul>
{% endif %}
{% if photo.exif %}
<div class="photo">
<h2>Details</h2>
<dl>
<dt>Camera</dt>{{ photo.exif.camera }}<dd></dd>
<dt>Date shot</dt>{{ photo.exif.shot_date }}<dd></dd>
<dt>Flash</dt>{{ photo.exif.flash|yesno:"Fired,No flash,No information"  }}<dd></dd>
</dl>
{% if photo.exif.lat %}
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script type="text/javascript">
	function load_map() {
		var myLatlng = new google.maps.LatLng({{ photo.exif.lat }}, {{ photo.exif.long}});
		var myOptions = {
			zoom: 8,
			center: myLatlng,
			mapTypeId: google.maps.MapTypeId.ROADMAP
		};
		var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
		var marker = new google.maps.Marker({
			position: myLatlng, 
			map: map, 
			title:"Photo location",
			animation: google.maps.Animation.DROP
		});  
	};
  </script>
<div id="map_canvas"></div>
<script>load_map();</script>
{% endif %}
</div>
{% endif %}
{% endblock %}